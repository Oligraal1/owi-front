<div *ngIf="!showCardTask" class="macolonne">

  <div class="title-container d-flex align-items-center"
    *ngIf="!showListingForm">
    <h2 class="flex-grow-1">{{ title }}</h2>
    <div class="dropdown">
      <button class="btn btn-primary dropdown-toggle" type="button"
        id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <li><a class="dropdown-item text-primary" (click)="editListing()"><i class="fa-regular fa-pen-to-square"></i>  Modifier</a></li>
        <li><a class="dropdown-item text-danger"
          (click)="deleteListing(this.listingId)"><i class="fa-solid fa-trash"></i>  Supprimer</a></li>
        <li><a class="dropdown-item text-success" (click)="createTask()"><i class="fa-regular fa-plus"></i>  Nouvelle
          t√¢che</a></li>
      </ul>
    </div>
  </div>

  <app-listing-form
    *ngIf="showListingForm"
    [listingId]="listingId"
    [projectId]="projectId"
    >
  </app-listing-form>

  <app-task-board
    *ngIf="!showTaskForm"
    [tasks]="tasks"
    [listingId]="listingId"
    (loadTasks)="loadTasksByListing(listingId)"
    [connectedTo]="connectedTo"
    [showCardTask]="showCardTask"
    [showTaskForm]="showTaskForm"
    [projectId]="projectId">
  </app-task-board>

  <app-create-task
    *ngIf="showTaskCreate"
    [listingId]="listingId"
    [showTaskCreate]="showTaskCreate"
    [projectId]="projectId">
  </app-create-task>

</div>
<div *ngIf="showCardTask">
  <app-task></app-task>
</div>
